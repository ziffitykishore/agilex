function WDIInstagram(a){this.access_tokens=[];this.filters=[];if(typeof a!="undefined"){if(typeof a.access_tokens!="undefined"){this.access_tokens=a.access_tokens}if(typeof a.filters!="undefined"){this.filters=a.filters}}var c=this;this.statusCode={429:function(){console.log(" 429: Too many requests. Try after one hour")}};this.getFilter=function(d){var f=c.filters;if(typeof f=="undefined"){return false}for(var e=0;e<f.length;e++){if(f[e].where==d){if(typeof f[e].what=="object"&&f[e].what.length==2){if(typeof window[f[e].what[0]]!="undefined"){if(typeof window[f[e].what[0]][f[e].what[1]]=="function"){return window[f[e].what[0]][f[e].what[1]]}}}else{if(typeof f[e].what=="string"){if(typeof window[f[e].what]=="function"){return window[f[e].what]}}else{if(typeof f[e].what=="function"){return f[e].what}else{return false}}}}}return false};function b(){var d=c.access_tokens,e=parseInt(Math.random(0,1)*d.length);return d[e]}this.addToken=function(d){if(typeof d=="string"){c.access_tokens.push(d)}};this.resetTokens=function(){c.access_tokens=[]};this.getTagRecentMedia=function(m,k){var l=this,n=false,e=false,h=this.statusCode,f=false,j=false,d=this.getFilter("getTagRecentMedia"),i="https://api.instagram.com/v1/tags/"+m+"/media/recent?access_token="+b();if(typeof k=="undefined"||k.length===0){n=true}else{if("success" in k){e=true}if("statusCode" in k){h=k.statusCode}if("error" in k){f=true}if("args" in k){j=true}else{k.args={}}if("count" in k){k.count=parseInt(k.count);if(!Number.isInteger(k.count)||k.count<=0){k.count=33}}else{k.count=33}i+="&count="+k.count;if("min_tag_id" in k){i+="&min_tag_id="+k.min_tag_id}if("max_tag_id" in k){i+="&max_tag_id="+k.max_tag_id}}var g=function(o){if(o===false){jQuery.ajax({type:"POST",url:i,dataType:"jsonp",success:function(q){c.setDataToCache(i,q);p(q)},error:function(q){if(f){if(typeof k.error=="object"&&k.error.length==2){if(typeof window[k.error[0]][k.error[1]]=="function"){window[k.error[0]][k.error[1]](q)}}else{if(typeof k.error=="string"){if(typeof window[k.error]=="function"){window[k.error](q)}}else{if(typeof k.error=="function"){k.error(q)}}}}},statusCode:h})}else{p(o)}function p(q){if(typeof q.data==="undefined"){q.data=[]}if(e){if(typeof k.success=="object"&&k.success.length==2){if(typeof window[k.success[0]]!="undefined"){if(typeof window[k.success[0]][k.success[1]]=="function"){if(d){q=d(q,l.filterArguments,k.args)}window[k.success[0]][k.success[1]](q)}}}else{if(typeof k.success=="string"){if(typeof window[k.success]=="function"){if(d){q=d(q,l.filterArguments,k.args)}window[k.success](q)}}else{if(typeof k.success=="function"){if(d){q=d(q,l.filterArguments,k.args)}k.success(q)}}}}}};c.getDataFromCache(g,i)};this.searchForTagsByName=function(k,i){var j=this,l=false,d=false,h=this.statusCode,e=false;filter=this.getFilter("searchForTagsByName");if(typeof i=="undefined"||i.length===0){l=true}else{if("success" in i){d=true}if("error" in i){e=true}if("statusCode" in i){h=i.statusCode}}var f="https://api.instagram.com/v1/tags/search?q="+k+"&access_token="+b();var g=function(m){if(m===false){jQuery.ajax({type:"POST",url:f,dataType:"jsonp",success:function(o){c.setDataToCache(f,o);n(o)},error:function(o){if(e){if(typeof i.error=="object"&&i.error.length==2){if(typeof window[i.error[0]][i.error[1]]=="function"){window[i.error[0]][i.error[1]](o)}}else{if(typeof i.error=="string"){if(typeof window[i.error]=="function"){window[i.error](o)}}else{if(typeof i.error=="function"){i.error(o)}}}}},statusCode:h})}else{n(m)}function n(o){if(d){if(typeof i.success=="object"&&i.success.length==2){if(typeof window[i.success[0]]!="undefined"){if(typeof window[i.success[0]][i.success[1]]=="function"){if(filter){o=filter(o,j.filterArguments)}window[i.success[0]][i.success[1]](o)}}}else{if(typeof i.success=="string"){if(typeof window[i.success]=="function"){if(filter){o=filter(o,j.filterArguments)}window[i.success](o)}}else{if(typeof i.success=="function"){if(filter){o=filter(o,j.filterArguments)}i.success(o)}}}}}};c.getDataFromCache(g,f)};this.searchForUsersByName=function(k,g){var d=this,j=false,e=false,i=this.statusCode,f=false,h=this.getFilter("searchForUsersByName");if(typeof g=="undefined"||g.length===0){j=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/users/search?q="+k+"&access_token="+b(),success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:this.statusCode})};this.getRecentLikedMedia=function(g){var d=this,k=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getRecentLikedMedia"),j="https://api.instagram.com/v1/users/self/media/liked?access_token="+b();if(typeof g=="undefined"||g.length===0){k=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}if("args" in g){argFlag=true}else{g.args={}}if("count" in g){g.count=parseInt(g.count);if(!Number.isInteger(g.count)||g.count<=0){g.count=20}}else{g.count=20}j+="&count="+g.count;if("next_max_like_id" in g){j+="&next_max_like_id="+g.next_max_like_id}}jQuery.ajax({type:"POST",dataType:"jsonp",url:j,success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments,g.args)}window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments,g.args)}window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments,g.args)}g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:i})};this.getUserRecentMedia=function(l,j){var k=this,m=false,e=false,i=false,g=this.statusCode,f=false,d=this.getFilter("getUserRecentMedia"),h="https://api.instagram.com/v1/users/"+l+"/media/recent/?access_token="+b();if(typeof j=="undefined"||j.length===0){m=true}else{if("success" in j){e=true}if("statusCode" in j){g=j.statusCode}if("args" in j){i=true}else{j.args={}}if("error" in j){f=true}if("count" in j){j.count=parseInt(j.count);if(!Number.isInteger(j.count)||j.count<=0){j.count=33}}else{j.count=33}h+="&count="+j.count;if("min_id" in j){h+="&min_id="+j.min_id}if("max_id" in j){h+="&max_id="+j.max_id}}jQuery.ajax({type:"POST",dataType:"jsonp",url:h,success:function(n){if(typeof n.data==="undefined"){n.data=[]}if(e){if(typeof j.success=="object"&&j.success.length==2){if(typeof window[j.success[0]]!="undefined"){if(typeof window[j.success[0]][j.success[1]]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success[0]][j.success[1]](n)}}}else{if(typeof j.success=="string"){if(typeof window[j.success]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success](n)}}else{if(typeof j.success=="function"){if(d){n=d(n,k.filterArguments,j.args)}j.success(n)}}}}},error:function(n){if(f){if(typeof j.error=="object"&&j.error.length==2){if(typeof window[j.error[0]][j.error[1]]=="function"){window[j.error[0]][j.error[1]](n)}}else{if(typeof j.error=="string"){if(typeof window[j.error]=="function"){window[j.error](n)}}else{if(typeof j.error=="function"){j.error(n)}}}}},statusCode:g})};this.getSelfRecentMedia=function(k){var l=this,m=false,e=false,h=this.statusCode,f=false,j=false,d=this.getFilter("getSelfRecentMedia"),i="https://api.instagram.com/v1/users/self/media/recent/?access_token="+b();if(typeof k=="undefined"||k.length===0){m=true}else{if("success" in k){e=true}if("error" in k){f=true}if("statusCode" in k){h=k.statusCode}if("args" in k){j=true}else{k.args={}}if("count" in k){k.count=parseInt(k.count);if(!Number.isInteger(k.count)||k.count<=0){k.count=20}}else{k.count=20}i+="&count="+k.count;if("min_id" in k){i+="&min_id="+k.min_id}if("max_id" in k){i+="&max_id="+k.max_id}}var g=function(n){if(n===false){jQuery.ajax({type:"POST",dataType:"jsonp",url:i,success:function(p){c.setDataToCache(i,p);o(p)},error:function(p){if(f){if(typeof k.error=="object"&&k.error.length==2){if(typeof window[k.error[0]][k.error[1]]=="function"){window[k.error[0]][k.error[1]](p)}}else{if(typeof k.error=="string"){if(typeof window[k.error]=="function"){window[k.error](p)}}else{if(typeof k.error=="function"){k.error(p)}}}}},statusCode:h})}else{o(n)}function o(p){if(e){if(typeof k.success=="object"&&k.success.length==2){if(typeof window[k.success[0]]!="undefined"){if(typeof window[k.success[0]][k.success[1]]=="function"){if(d){p=d(p,l.filterArguments,k)}window[k.success[0]][k.success[1]](p)}}}else{if(typeof k.success=="string"){if(typeof window[k.success]=="function"){if(d){p=d(p,l.filterArguments,k)}window[k.success](p)}}else{if(typeof k.success=="function"){if(d){p=d(p,l.filterArguments,k)}k.success(p)}}}}}};c.getDataFromCache(g,i)};this.getUserInfo=function(e,h){var d=this,k=false,f=false,j=this.statusCode,g=false,i=this.getFilter("getUserInfo");if(typeof h=="undefined"||h.length===0){k=true}else{if("success" in h){f=true}if("error" in h){g=true}if("statusCode" in h){j=h.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/users/"+e+"/?access_token="+b(),success:function(l){if(f){if(typeof h.success=="object"&&h.success.length==2){if(typeof window[h.success[0]]!="undefined"){if(typeof window[h.success[0]][h.success[1]]=="function"){if(i){l=i(l,d.filterArguments)}window[h.success[0]][h.success[1]](l)}}}else{if(typeof h.success=="string"){if(typeof window[h.success]=="function"){if(i){l=i(l,d.filterArguments)}window[h.success](l)}}else{if(typeof h.success=="function"){if(i){l=i(l,d.filterArguments)}h.success(l)}}}}},error:function(l){if(g){if(typeof h.error=="object"&&h.error.length==2){if(typeof window[h.error[0]][h.error[1]]=="function"){window[h.error[0]][h.error[1]](l)}}else{if(typeof h.error=="string"){if(typeof window[h.error]=="function"){window[h.error](l)}}else{if(typeof h.error=="function"){h.error(l)}}}}},statusCode:j})};this.getSelfInfo=function(j){var k=this,l=false,e=false,i=this.statusCode,f=false,d=this.getFilter("getSelfInfo");if(typeof j=="undefined"||j.length===0){l=true}else{if("success" in j){e=true}if("error" in j){f=true}if("statusCode" in j){i=j.statusCode}}var g="https://api.instagram.com/v1/users/self/?access_token="+b();var h=function(m){if(m===false){jQuery.ajax({type:"POST",dataType:"jsonp",url:g,success:function(o){c.setDataToCache(g,o);if(e){if(typeof j.success=="object"&&j.success.length==2){if(typeof window[j.success[0]]!="undefined"){if(typeof window[j.success[0]][j.success[1]]=="function"){if(d){o=d(o,k.filterArguments)}window[j.success[0]][j.success[1]](o)}}}else{if(typeof j.success=="string"){if(typeof window[j.success]=="function"){if(d){o=d(o,k.filterArguments)}window[j.success](o)}}else{if(typeof j.success=="function"){if(d){o=d(o,k.filterArguments)}j.success(o)}}}}},error:function(o){if(f){if(typeof j.error=="object"&&j.error.length==2){if(typeof window[j.error[0]][j.error[1]]=="function"){window[j.error[0]][j.error[1]](o)}}else{if(typeof j.error=="string"){if(typeof window[j.error]=="function"){window[j.error](o)}}else{if(typeof j.error=="function"){j.error(o)}}}}},statusCode:i})}else{n(m)}function n(o){if(e){if(typeof j.success=="object"&&j.success.length==2){if(typeof window[j.success[0]]!="undefined"){if(typeof window[j.success[0]][j.success[1]]=="function"){if(d){o=d(o,k.filterArguments)}window[j.success[0]][j.success[1]](o)}}}else{if(typeof j.success=="string"){if(typeof window[j.success]=="function"){if(d){o=d(o,k.filterArguments)}window[j.success](o)}}else{if(typeof j.success=="function"){if(d){o=d(o,k.filterArguments)}j.success(o)}}}}}};c.getDataFromCache(h,g)};this.getRecentMediaComments=function(f,k){var l=this,m=false,e=false,j=this.statusCode,h=false,d=this.getFilter("getRecentMediaComments");if(typeof k=="undefined"||k.length===0){m=true}else{if("success" in k){e=true}if("error" in k){h=true}if("statusCode" in k){j=k.statusCode}}var g="https://api.instagram.com/v1/media/"+f+"/comments?access_token="+b();var i=function(n){if(n===false){jQuery.ajax({type:"POST",dataType:"jsonp",url:g,success:function(p){c.setDataToCache(g,p);o(p)},error:function(p){if(h){if(typeof k.error=="object"&&k.error.length==2){if(typeof window[k.error[0]][k.error[1]]=="function"){window[k.error[0]][k.error[1]](p)}}else{if(typeof k.error=="string"){if(typeof window[k.error]=="function"){window[k.error](p)}}else{if(typeof k.error=="function"){k.error(p)}}}}},statusCode:j})}else{o(n)}function o(p){if(e){if(typeof k.success=="object"&&k.success.length==2){if(typeof window[k.success[0]]!="undefined"){if(typeof window[k.success[0]][k.success[1]]=="function"){if(d){p=d(p,l.filterArguments)}window[k.success[0]][k.success[1]](p)}}}else{if(typeof k.success=="string"){if(typeof window[k.success]=="function"){if(d){p=d(p,l.filterArguments)}window[k.success](p)}}else{if(typeof k.success=="function"){if(d){p=d(p,l.filterArguments)}k.success(p)}}}}}};c.getDataFromCache(i,g)};this.getRecentMediaLikes=function(j,g){var d=this,k=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getRecentMediaLikes");if(typeof g=="undefined"||g.length===0){k=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/media/"+j+"/likes?access_token="+b(),success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments)}g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:i})};this.requestByUrl=function(o,n){var p=this,q=false,f=false,g=false,m=false,k=this.statusCode,e=this.getFilter("requestByUrl"),d,l;d=o.split("?")[1].split("&");for(var j=0;j<d.length;j++){d[j]=d[j].split("=");if(d[j][0]=="access_token"){d[j][1]=b()}d[j]=d[j].join("=")}d=d.join("&");o=o.split("?")[0]+"?"+d;if(typeof n=="undefined"||n.length===0){q=true}else{if("success" in n){f=true}if("args" in n){m=true}else{n.args={}}if("error" in n){g=true}if("statusCode" in n){k=n.statusCode}}var h=function(i){if(i===false){jQuery.ajax({type:"POST",dataType:"jsonp",url:o,success:function(s){c.setDataToCache(o,s);if(f){if(typeof n.success=="object"&&n.success.length==2){if(typeof window[n.success[0]]!="undefined"){if(typeof window[n.success[0]][n.success[1]]=="function"){if(e){s=e(s,p.filterArguments,n.args)}window[n.success[0]][n.success[1]](s)}}}else{if(typeof n.success=="string"){if(typeof window[n.success]=="function"){if(e){s=e(s,p.filterArguments,n.args)}window[n.success](s)}}else{if(typeof n.success=="function"){if(e){s=e(s,p.filterArguments,n.args)}n.success(s)}}}}},error:function(s){if(g){if(typeof n.error=="object"&&n.error.length==2){if(typeof window[n.error[0]][n.error[1]]=="function"){window[n.error[0]][n.error[1]](s)}}else{if(typeof n.error=="string"){if(typeof window[n.error]=="function"){window[n.error](s)}}else{if(typeof n.error=="function"){n.error(s)}}}}},statusCode:k})}else{r(i)}function r(s){if(f){if(typeof n.success=="object"&&n.success.length==2){if(typeof window[n.success[0]]!="undefined"){if(typeof window[n.success[0]][n.success[1]]=="function"){if(e){s=e(s,p.filterArguments,n.args)}window[n.success[0]][n.success[1]](s)}}}else{if(typeof n.success=="string"){if(typeof window[n.success]=="function"){if(e){s=e(s,p.filterArguments,n.args)}window[n.success](s)}}else{if(typeof n.success=="function"){if(e){s=e(s,p.filterArguments,n.args)}n.success(s)}}}}}};c.getDataFromCache(h,o)};this.getDataFromCache=function(e,d){jQuery.ajax({type:"POST",async:true,url:wdi_ajax.ajax_url,dataType:"json",data:{wdi_cache_name:d,wdi_nonce:wdi_ajax.wdi_nonce,WDI_MINIFY:wdi_ajax.WDI_MINIFY,action:"wdi_get_cache_data"},success:function(g){if(g.wdi_debugging){console.log(g.wdi_debugging_data)}if(g.success){if(typeof g.cache_data!=="undefined"&&g.cache_data!==null){var f=JSON.parse(g.cache_data);e(f)}else{e(false)}}else{e(false)}}})};this.setDataToCache=function(e,d){jQuery.ajax({type:"POST",url:wdi_ajax.ajax_url,dataType:"json",data:{wdi_cache_name:e,wdi_cache_response:JSON.stringify(d),wdi_nonce:wdi_ajax.wdi_nonce,action:"wdi_set_cache_data"},success:function(f){}})}};